(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{592:function(e,t,a){"use strict";a.r(t);var n=a(55),s=Object(n.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("p",[e._v("Just few days ago, I learned functional programming and React.")]),e._v(" "),a("p",[e._v("As you know, Iâ€™m a Vue developer, So in this article, I gonna talking about the dfference of React & Vue.")]),e._v(" "),a("h2",{attrs:{id:"flexibility-reuse"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#flexibility-reuse"}},[e._v("#")]),e._v(" Flexibility & Reuse")]),e._v(" "),a("p",[e._v("In terms of flexibility, if React has 90% flexibility, Vue has about 30% flexibility.")]),e._v(" "),a("p",[e._v("My personal understanding of these two framework is:")]),e._v(" "),a("p",[a("em",[a("strong",[e._v("React = JavaScript + Functional Programming + JSX")])])]),e._v(" "),a("p",[a("em",[a("strong",[e._v("Vue = Syntactic Sugers (Vue APIs)")])])]),e._v(" "),a("p",[e._v("The flexibility of React is bring by "),a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("JavaScript modules")])]),e._v(".")]),e._v(" "),a("p",[e._v("Every React component is a "),a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("JavaScript object")])]),e._v(", written by "),a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/class",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("class")])]),e._v(" syntax (contains state) or "),a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Functions",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("function")])]),e._v("`syntax (functional component without state).")]),e._v(" "),a("p",[e._v("In comparison, every Vue component is combined by Vue syntax apis "),a("em",[e._v("(with "),a("code",[e._v("template")]),e._v(", "),a("code",[e._v("scirpt")]),e._v(", "),a("code",[e._v("styles")]),e._v("),")]),e._v(" you need to follow the api syntax that Vue provided to fill in the corresponding views,  data, methods and life cycle hooks. This design philosophy is borrowed from "),a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Glossary/HTML",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("HTML")])]),e._v(" labels.")]),e._v(" "),a("p",[e._v("So the impact of this difference is, React is very easy to get started for experienced developers who are familiar with javascript and functional programming, and Vue is easier for web development beginners to get started.")]),e._v(" "),a("p",[e._v("For team development, the code written by React may have various formats, while the Vue code written by each person is basically the same. The Vue code is easier for the team to maintain than the React code.")]),e._v(" "),a("p",[e._v("In huge web project, the way Vue components organized is more disadvantageous than the "),a("strong",[e._v("ESM-based")]),e._v(" React components which can be split up very thoroughly.")]),e._v(" "),a("p",[e._v("However, the excessive flexibility of React "),a("code",[e._v("JSX")]),e._v(" leads to a lack of information available for optimization at runtime, we will talk it later.")]),e._v(" "),a("h2",{attrs:{id:"consistency-of-views-data"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#consistency-of-views-data"}},[e._v("#")]),e._v(" Consistency of Views & Data")]),e._v(" "),a("p",[e._v("The main point of modern web framework is "),a("strong",[e._v("Consistency of Views & Data")])]),e._v(" "),a("p",[e._v("If the Vue is more like automatic transmission. In comparison, React is more like manual transmission.")]),e._v(" "),a("p",[e._v("Vue use a feature named "),a("code",[e._v("reactive")]),e._v(" to ensure the consistency of data, by contrast React need to manually call "),a("code",[e._v("setState")]),e._v(" to update the date.")]),e._v(" "),a("p",[e._v("However I would like to clarify, "),a("strong",[e._v("Two-way binding")]),e._v(" for forms is just a "),a("strong",[e._v("one-way binding")]),e._v(" of value + a syntactic sugar for "),a("code",[e._v("onChange")]),e._v(" event listening.  This isn't really a conceptual difference between React and Vue. Also, "),a("strong",[e._v("unidirectional dataflow")]),e._v(" is not a difference between Vue or React, but a common tacit choice between Vue and React. The core of "),a("strong",[e._v("unidirectional dataflow")]),e._v(" is to avoid the design of component's own state "),a("em",[e._v("(reusable in the future)")]),e._v(", and it emphasizes hoisting out the state for centralized management.")]),e._v(" "),a("h2",{attrs:{id:"reactive-setstate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#reactive-setstate"}},[e._v("#")]),e._v(" Reactive & setState")]),e._v(" "),a("p",[a("strong",[e._v("What I really think is the conceptual difference between React and Vue, and the irreversible impact on subsequent design implementations is")]),e._v(" that Vue does data interception/proxy, which is more sensitive and accurate in detecting data changes, and indirectly provides great convenience for some subsequent implementations "),a("em",[e._v("(e.g. hooks, function based APIs)")]),e._v(". React promotes "),a("strong",[e._v("functionalism")]),e._v(" is a direct "),a("strong",[e._v("partial re-flash (or "),a("em",[e._v("re-rendering")]),e._v(")")]),e._v(", which is more brutal, but simpler, just a refresh. "),a("strong",[e._v("But React doesn't know when it's \"supposed to refresh\", and triggering a partial re-render is done by the developer manually calling")]),e._v(" "),a("code",[e._v("setState")]),a("strong",[e._v(".")])]),e._v(" "),a("p",[e._v("React "),a("code",[e._v("setState")]),e._v(" causes partial refreshes. To achieve better performance, React provide the "),a("strong",[e._v("lifecycle hook")]),e._v(" "),a("code",[e._v("shouldComponentUpdate")]),e._v(" to developers to avoid unnecessary "),a("strong",[e._v("re-rendering")]),e._v(". In contrast, "),a("strong",[e._v("Vue is optimized by default due to its dependency tracking:  you move as much data as you want to trigger an update.")]),e._v(" "),a("strong",[e._v("React is not aware of data changes, it  provide")]),e._v(" "),a("code",[e._v("React.createElement")]),e._v(" "),a("strong",[e._v("to call already generated")]),e._v(" "),a("code",[e._v("virtual dom")]),a("strong",[e._v(".")]),e._v(" On the other hand, "),a("strong",[e._v("React merges the setState behavior to compensate for unnecessary updates.")]),e._v(" So setState is sometimes updated "),a("code",[e._v("asynchronously")]),e._v(', but not always "'),a("code",[e._v("asynchronously")]),e._v('".')]),e._v(" "),a("p",[e._v('By design, this cause an additional "'),a("strong",[e._v("mental burden")]),e._v("\" for the developers and raises some potential issues. By comparison, Vue's "),a("code",[e._v("reactive")]),e._v(" philosophy of data interception and proxying doesn't have similar problems.")]),e._v(" "),a("p",[a("strong",[e._v("This design difference has a direct impact on the implementation and performance of hooks.")])]),e._v(" "),a("h2",{attrs:{id:"hooks-value"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hooks-value"}},[e._v("#")]),e._v(" Hooks & .value")]),e._v(" "),a("p",[e._v("The underlying of React hook is based on a "),a("strong",[e._v("chained table")]),e._v(" "),a("em",[e._v("("),a("code",[e._v("Array")]),e._v(")")]),e._v(" implementation, where all hooks are executed sequentially each time a component is rendered.")]),e._v(" "),a("p",[e._v("Because of the "),a("strong",[e._v("chain table")]),e._v(", the next of each hook points to the next hook, so developers cannot use judgment conditions in different hooks calls. This is because "),a("code",[e._v("if")]),e._v(" judgment conditions will cause incorrect order, and cause an error.")]),e._v(" "),a("p",[e._v("The following code will report an error:")]),e._v(" "),a("div",{staticClass:"language-jsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("function")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("App")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("const")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" setName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("useState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'lucas'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("if")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("condition"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("const")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("val"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" setVal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("useState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),a("p",[e._v("On the contrary, Vue hooks only registered once. The fundamental reason why Vue can avoid these troubles is that "),a("strong",[e._v("its reactive of data is based on reactivity, and it proxies the data. It doesn't need a chain of hooks to record, it proxies the data directly")]),e._v(".")]),e._v(" "),a("p",[e._v("And Vue being reactivity has its own problems. For example, "),a("code",[e._v("ref()")]),e._v(" returns a value wrapper "),a("em",[e._v("(wrapped object)")]),e._v(". A wrapper object has only an attribute  "),a("code",[e._v(".value")]),e._v(", which points to the value being wrapped internally. We know that in JavaScript, primitive value types such as "),a("code",[e._v("string")]),e._v(" and "),a("code",[e._v("number")]),e._v(" have only values, not references. Whether we use "),a("code",[e._v("Object.defineProperty")]),a("em",[e._v("(Vue2)")]),e._v(" or "),a("code",[e._v("Proxy")]),a("em",[e._v("(Vue3)")]),e._v(", we can't track subsequent changes to primitive variables. So Vue has to return a wrapper object, otherwise it can't proxy and intercept data for basic types. This is a very minor side effect of the design philosophy.")]),e._v(" "),a("p",[e._v("This is an example given by evan:")]),e._v(" "),a("div",{staticClass:"language-jsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("function")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("useMousePosition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("const")]),e._v(" x "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("ref")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("const")]),e._v(" y "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("ref")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\t\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("const")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[e._v("update")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter"}},[e._v("e")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=>")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n\t\tx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("value "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("pageX\n\t\tx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("value "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("pageY\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("onMounted")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=>")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n\t\twindow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'mousemove'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" update"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("onUnmounted")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=>")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n\t\twindow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("removeEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'mousemove'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" update"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("return")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),a("h2",{attrs:{id:"event"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#event"}},[e._v("#")]),e._v(" Event")]),e._v(" "),a("p",[e._v("The React event system is large and complex. The events it provide to developers are not native events, they are React wrapped synthetic events, and the most important is "),a("strong",[e._v("synthetic events are pooling")]),e._v(". This means that different events may share a single synthetic event object. Another detail is that React proxies all events, binding all events to the document.\nAlso, "),a("code",[e._v("this")]),e._v(" in the event handler in React does not point to the component instance by default, while "),a("code",[e._v("this")]),e._v(" in the Vue event handler points to the component instance by default.")]),e._v(" "),a("h2",{attrs:{id:"pre-compilation-optimization"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pre-compilation-optimization"}},[e._v("#")]),e._v(" Pre-compilation Optimization")]),e._v(" "),a("p",[e._v("Vue3 proposes the idea of dynamic and static "),a("code",[e._v("DOM")]),e._v(" diff. The reason why it can do "),a("code",[e._v("DOM")]),e._v(" diff "),a("em",[e._v("(pre-compilation optimization)")]),e._v(" is that Vue core can statically analyze the template, when parsing the template, the whole parse process is to use regular expressions to parse the template sequentially, when parsing to the "),a("code",[e._v("start tag")]),e._v(", "),a("code",[e._v("closure tag")]),e._v(" or "),a("code",[e._v("text")]),e._v(", it will execute the corresponding callback function respectively, to achieve the purpose of constructing "),a("code",[e._v("AST")]),e._v(" tree.")]),e._v(" "),a("p",[e._v("Vue needs to do "),a("strong",[e._v("two-way data binding")]),e._v(" and "),a("strong",[e._v("data interception")]),e._v(" or "),a("strong",[e._v("proxy")]),e._v(", so it needs to statically analyze the template in the "),a("code",[e._v("pre-compilation")]),e._v(" stage to analyze what data the view depends on, and do some dependencies collecting.")]),e._v(" "),a("p",[e._v("React is all about partial "),a("strong",[e._v("re-rendering")]),e._v(", which only need to deal with a bunch of recursive "),a("code",[e._v("React.createElement")]),e._v(" calls, which can't be statically analyzed at the template level.")]),e._v(" "),a("p",[e._v("So the excessive flexibility of React JSX leads to a lack of information available for optimization at runtime.")])])}),[],!1,null,null,null);t.default=s.exports}}]);